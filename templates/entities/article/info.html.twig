{% extends 'base.html.twig' %}

{% block title %}Article - {{ article.getTitle }}{% endblock %}

{% block body %}

<div class="pt-8 pb-16 lg:pt-16 lg:pb-24">
  <div class="flex justify-between px-4 mx-auto max-w-screen-xl ">
      <article class="mx-auto w-full max-w-2xl format format-sm sm:format-base lg:format-lg format-blue">
          <div class="mb-4 lg:mb-6 not-format">
              <div class="flex items-center mb-6 not-italic">
                  <div class="inline-flex items-center mr-3 text-sm text-gray-900">
                      <div>
                          <p rel="author" class="text-xl font-bold text-gray-900">{{ article.getUser.getName }}</p>
                          <p class="text-base font-light text-gray-500"><time>{{ article.getDate|date('d/m/Y à H:i') }}</time></p>
                      </div>
                  </div>
              </div>
              <h1 class="mb-4 text-3xl font-extrabold leading-tight text-gray-900 lg:mb-6 lg:text-4xl">▷ {{ article.getTitle }}</h1>
              <hr class="my-4"/>
              <div class="flex flex-wrap items-center gap-2">
                {% for tag in article.getTags %}
                    <span class="ring-2 bg-blue-500 text-white rounded-lg w-fit px-4 py-1">{{ tag.getTitle }}</span>
                {% endfor %}
              </div>
              <hr class="my-4"/>
          </div>
          {% if app.user and app.user == article.getUser %}
            <section>
                <div class="flex justify-right gap-4 w-full">             
                    <a href="{{ path('formUpdate_article', {'id': article.getId }) }}">
                        <button type="button" class="focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm p-1.5 mr-2 mb-2">Modifier</button>
                    </a>
                    <a href="{{ path('formDelete_article', {'id': article.getId }) }}" onclick="alert('Êtes-vous sûr de vouloir supprimer cet article ?');">
                        <button type="button" class="focus:outline-none text-white bg-red-400 hover:bg-red-500 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm p-1.5 mr-2 mb-2">Supprimer</button>
                    </a>
                </div>
            <section>
          {% endif %}
          <section class="my-12"> {{ article.getContent }} </section>
            <section class="my-28">
              <img class="font-bold text-2xl flex flex-col justify-center items-center text-center w-11/12 bg-gray-500 bg-white outline outline-offset-3 outline-black border-[12px] border-white shadow-lg shadow-gray-500/50 rounded-lg" src="{{ vich_uploader_asset(article, 'imageFile') }}" alt="Aucune Image"/>
          </section>
          <section class="my-12"> {{ include('entities/comment/index.html.twig') }} </section>
      </article>
  </div>
</div>
{% endblock %}
